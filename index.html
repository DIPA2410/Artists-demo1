<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Artists</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css?family=Josefin+Sans:wght@300;400&display=swap" rel="stylesheet">
<link rel="stylesheet" href="main.css">
</head>
<body>

<div class="outer">
    <div class="slider">
        <section>
            <div class="inner">
                <div class="content">
                    <h1>Ina</h1>
                    <p>
                    The Lumifin is a bioluminescent fish that boasts wing-like fins which emit soft, pulsating glows, illuminating the ocean's deepest crevices. Its long, ribbon-like tail acts as a rudder, allowing it to dance gracefully among the underwater currents.
                    </p>
                </div>
                <img src="img1.jpg" alt="Lumifin Fish">
            </div>
        </section>
        <section>
            <div class="inner">
                <div class="content">
                    <h1>Mina</h1>
                    <p>
                    The Lumifin is a bioluminescent fish that boasts wing-like fins which emit soft, pulsating glows, illuminating the ocean's deepest crevices. Its long, ribbon-like tail acts as a rudder, allowing it to dance gracefully among the underwater currents.
                    </p>
                </div>
                <img src="img2.jpg" alt="Lumifin Fish">
            </div>
        </section>
        <section>
            <div class="inner">
                <div class="content">
                    <h1>Dika</h1>
                    <p>
                    The Lumifin is a bioluminescent fish that boasts wing-like fins which emit soft, pulsating glows, illuminating the ocean's deepest crevices. Its long, ribbon-like tail acts as a rudder, allowing it to dance gracefully among the underwater currents.
                    </p>
                </div>
                <img src="img3.jpg" alt="Lumifin Fish">
            </div>
        </section>
    </div>
</div>

<div class="fish-container">
    <img src="img4.png" data-distance="80" alt="Animated vector fish">
    <img src="img4.png" data-distance="200" alt="Animated vector fish">
    <img src="img4.png" data-distance="300" alt="Animated vector fish">
    <img src="img4.png" data-distance="140" alt="Animated vector fish">
    <img src="img4.png" data-distance="40" alt="Animated vector fish">
    <img src="img4.png" data-distance="210" alt="Animated vector fish">
    <img src="img4.png" data-distance="190" alt="Animated vector fish"> 
    <img src="img4.png" data-distance="155" alt="Animated vector fish">
    <img src="img4.png" data-distance="80" alt="Animated vector fish">
    <img src="img4.png" data-distance="58" alt="Animated vector fish">
    <img src="img4.png" data-distance="227" alt="Animated vector fish">
</div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"></script>
<script src="https://cdn.jsdelivr.net/gh/studio-freight/lenis@1.0.19/bundled/lenis.min.js"></script>
<script>
    const slider = document.querySelector('.slider');
    const sections = gsap.utils.toArray(".slider section");
    const fishies = gsap.utils.toArray(".fish-container img");

    let tl = gsap.timeline({
        defaults: {
            ease: "none"
        },
        scrollTrigger: {
            trigger: slider,
            pin: true,
            scrub: 2,
            end: () => "+=" + slider.offsetWidth
        }
    });

    tl.to(slider, {
        xPercent: -66,
    }, "<");

    sections.forEach((stop, index) => {
        tl
        .from(stop.querySelector('.content'), {
            yPercent: -50,
            opacity: 0,
            scrollTrigger: {
                trigger: stop.querySelector('.content'),
                start: "left center",
                end: "center center",
                containerAnimation: tl,
                scrub: true,
                marker: true
            }
        })
        .from(stop.querySelector('img'), {
            xPercent: 40,
            yPercent: -100,
            ease: 'elastic.out(1,1)',
            scrollTrigger: {
                trigger: stop.querySelector('img'),
                scrub: 2,
                containerAnimation: tl
            }
        }, "<");
    });

    fishies.forEach((fish, i) => {
        gsap.from(fish, {
            xPercent: fish.dataset.distance,
            scrollTrigger: {
                scrub: 0.3
            }
        });
    });

    // smooth scroll
    const lenis = new Lenis();
    function raf(time) {
        lenis.raf(time);
        requestAnimationFrame(raf);
    }
    requestAnimationFrame(raf);
</script>
</body>
</html>
